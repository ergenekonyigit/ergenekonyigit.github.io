{"componentChunkName":"component---src-templates-blog-post-js","path":"/planck-keyboarda-emoji-layer-eklemek/","result":{"data":{"site":{"siteMetadata":{"title":"Blog","author":"Ergenekon Yigit"}},"markdownRemark":{"id":"720c26f0-357c-53e9-a126-34b47b188486","html":"<figure>\n  \n  <a class=\"gatsby-resp-image-link\" href=\"/static/164c3a579c2ec4d0b86821d06c104505/93d1b/planck-keyboard.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 75%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAMFAf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAUpThUI4f//EABsQAAMAAgMAAAAAAAAAAAAAAAABAgMEERMU/9oACAEBAAEFAvSh7VExkuW4Ozgd23//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAWEQADAAAAAAAAAAAAAAAAAAABEBH/2gAIAQIBAT8BgX//xAAeEAACAQMFAAAAAAAAAAAAAAAAAQIREiETIjGRof/aAAgBAQAGPwLEDiKLtbqInl4NsIr0rcz/xAAcEAEAAwACAwAAAAAAAAAAAAABABEhQaFhcZH/2gAIAQEAAT8hRN321OL3YeA2GguoIZK/WOu4oVj5n//aAAwDAQACAAMAAAAQaA//xAAVEQEBAAAAAAAAAAAAAAAAAAAAEf/aAAgBAwEBPxCq/8QAFhEBAQEAAAAAAAAAAAAAAAAAAAER/9oACAECAQE/EBkf/8QAHRAAAgICAwEAAAAAAAAAAAAAAREAQWGhITFR0f/aAAgBAQABPxAGL7yh9Z5GBGAFoCGIyrFWAIC7PyWBFezhqWoYkxU//9k=&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"planck-keyboard\" title src=\"/static/164c3a579c2ec4d0b86821d06c104505/f67cc/planck-keyboard.jpg\" srcset=\"/static/164c3a579c2ec4d0b86821d06c104505/9c38a/planck-keyboard.jpg 200w,\n/static/164c3a579c2ec4d0b86821d06c104505/28275/planck-keyboard.jpg 400w,\n/static/164c3a579c2ec4d0b86821d06c104505/f67cc/planck-keyboard.jpg 800w,\n/static/164c3a579c2ec4d0b86821d06c104505/6e525/planck-keyboard.jpg 1200w,\n/static/164c3a579c2ec4d0b86821d06c104505/e735c/planck-keyboard.jpg 1600w,\n/static/164c3a579c2ec4d0b86821d06c104505/93d1b/planck-keyboard.jpg 4032w\" sizes=\"(max-width: 800px) 100vw, 800px\">\n    </span>\n  </span>\n  \n  </a>\n    \n</figure>\n<p>Klavye yapım sürecini <a href=\"https://ergenekonyigit.github.io/planck-keyboard/\">buradan</a> okuyabilirsiniz.</p>\n<p>Merhaba, yakın zamanda klavyeme emojilerden oluşan bir layer ekledim, bu süreçte karşılaştığım sorunlardan ve uyguladığım çözümden bahsedeceğim.</p>\n<p>Klavyede <a href=\"https://beta.docs.qmk.fm\">qmk firmware</a> kullandığımdan bir önceki yazıda bahsetmiştim. Qmk dokümanı altında <a href=\"https://beta.docs.qmk.fm/using-qmk/software-features/feature_unicode\">unicode</a> desteğini 3 faklı yöntemle nasıl uygulanacağı anlatılmış. Ben bunlardan <a href=\"https://beta.docs.qmk.fm/using-qmk/software-features/feature_unicode#1-2-unicode-map-id-unicode-map\">Unicode Map</a> yöntemini tercih ettim.</p>\n<p><a href=\"https://github.com/ergenekonyigit/glosso/blob/main/rules.mk#L33\">rules.mk</a> dosyasinda unicode map’i açtım. Kullanacağım emojileri <a href=\"https://github.com/ergenekonyigit/glosso/blob/main/keymaps/default/keymap.c#L75-L100\">unicode_names</a> enum’ına çıkardım.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">enum</span> <span class=\"token class-name\">unicode_names</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// Row 0</span>\n    JOY<span class=\"token punctuation\">,</span>   <span class=\"token comment\">// 😂</span>\n    SMIL2<span class=\"token punctuation\">,</span> <span class=\"token comment\">// 😅</span>\n    SMILE<span class=\"token punctuation\">,</span> <span class=\"token comment\">// 😁</span>\n    GRIN<span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 😊</span>\n    KISS<span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 😘</span>\n    HALO<span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 😇</span>\n    PHEW<span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 😌</span>\n    CONFU<span class=\"token punctuation\">,</span> <span class=\"token comment\">// 😕</span>\n    PENSV<span class=\"token punctuation\">,</span> <span class=\"token comment\">// 😔</span>\n    UNAMU<span class=\"token punctuation\">,</span> <span class=\"token comment\">// 😒</span>\n    DISAP<span class=\"token punctuation\">,</span> <span class=\"token comment\">// 😞</span>\n\n    <span class=\"token comment\">// Row 1</span>\n    CELE<span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 🙌</span>\n    OK<span class=\"token punctuation\">,</span>    <span class=\"token comment\">// 👌</span>\n    PRAY<span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 🙏</span>\n    CLAP<span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 👏</span>\n    THMUP<span class=\"token punctuation\">,</span> <span class=\"token comment\">// 👍</span>\n\n    <span class=\"token comment\">// Row 2</span>\n    EYES<span class=\"token punctuation\">,</span>  <span class=\"token comment\">// 👀</span>\n    HUNRD  <span class=\"token comment\">// 💯</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p> Bu seçtiğim emojilerin unicode değerlerini <a href=\"https://unicode-table.com/en/\">unicode-table</a> üzerinden bulup <a href=\"https://github.com/ergenekonyigit/glosso/blob/main/keymaps/default/keymap.c#L102-L126\">unicode_map</a> icerisinde eşleştirdim.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">const</span> uint32_t PROGMEM unicode_map<span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n   <span class=\"token comment\">// Row 0</span>\n   <span class=\"token punctuation\">[</span>JOY<span class=\"token punctuation\">]</span>   <span class=\"token operator\">=</span> <span class=\"token number\">0X1F602</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">[</span>SMIL2<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0x1F605</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">[</span>SMILE<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0x1F601</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">[</span>GRIN<span class=\"token punctuation\">]</span>  <span class=\"token operator\">=</span> <span class=\"token number\">0x1F600</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">[</span>KISS<span class=\"token punctuation\">]</span>  <span class=\"token operator\">=</span> <span class=\"token number\">0x1F618</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">[</span>HALO<span class=\"token punctuation\">]</span>  <span class=\"token operator\">=</span> <span class=\"token number\">0x1F607</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">[</span>PHEW<span class=\"token punctuation\">]</span>  <span class=\"token operator\">=</span> <span class=\"token number\">0x1F60C</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">[</span>CONFU<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0x1F615</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">[</span>PENSV<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0x1F614</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">[</span>UNAMU<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0x1F612</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">[</span>DISAP<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0x1F61E</span><span class=\"token punctuation\">,</span>\n\n   <span class=\"token comment\">// Row 1</span>\n   <span class=\"token punctuation\">[</span>CELE<span class=\"token punctuation\">]</span>  <span class=\"token operator\">=</span> <span class=\"token number\">0x1F64C</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">[</span>OK<span class=\"token punctuation\">]</span>    <span class=\"token operator\">=</span> <span class=\"token number\">0x1F44C</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">[</span>PRAY<span class=\"token punctuation\">]</span>  <span class=\"token operator\">=</span> <span class=\"token number\">0x1F64F</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">[</span>CLAP<span class=\"token punctuation\">]</span>  <span class=\"token operator\">=</span> <span class=\"token number\">0x1F44F</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">[</span>THMUP<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0x1F44D</span><span class=\"token punctuation\">,</span>\n\n   <span class=\"token comment\">// Row 2</span>\n   <span class=\"token punctuation\">[</span>EYES<span class=\"token punctuation\">]</span>  <span class=\"token operator\">=</span> <span class=\"token number\">0x1F440</span><span class=\"token punctuation\">,</span>\n   <span class=\"token punctuation\">[</span>HUNRD<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token number\">0x1F4AF</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p> <a href=\"https://github.com/ergenekonyigit/glosso/blob/main/keymaps/default/keymap.c#L220-L236\">_EMOJI</a> adında bir layer oluşturup emojileri bu layer’a ekledim. Layer’in son hali aşağıdaki gibi oldu.</p>\n<figure>\n  \n  <a class=\"gatsby-resp-image-link\" href=\"/static/b460507aeda72867d38050ec4ac2be5e/7386e/emoji-layer.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 26.376440460947503%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAFABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFQEBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhADEAAAAcWlkB//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAEFAn//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAEDAQE/AT//xAAUEQEAAAAAAAAAAAAAAAAAAAAQ/9oACAECAQE/AT//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAY/An//xAAUEAEAAAAAAAAAAAAAAAAAAAAQ/9oACAEBAAE/IX//2gAMAwEAAgADAAAAEIQf/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGBABAAMBAAAAAAAAAAAAAAAAAQARITH/2gAIAQEAAT8QvLIjZrFR6z//2Q==&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"emoji-layer\" title src=\"/static/b460507aeda72867d38050ec4ac2be5e/f67cc/emoji-layer.jpg\" srcset=\"/static/b460507aeda72867d38050ec4ac2be5e/9c38a/emoji-layer.jpg 200w,\n/static/b460507aeda72867d38050ec4ac2be5e/28275/emoji-layer.jpg 400w,\n/static/b460507aeda72867d38050ec4ac2be5e/f67cc/emoji-layer.jpg 800w,\n/static/b460507aeda72867d38050ec4ac2be5e/6e525/emoji-layer.jpg 1200w,\n/static/b460507aeda72867d38050ec4ac2be5e/7386e/emoji-layer.jpg 1562w\" sizes=\"(max-width: 800px) 100vw, 800px\">\n    </span>\n  </span>\n  \n  </a>\n    \n</figure>\n<p>İkinci aşamada belirtilen unicode hex input klavyesini ekledim.</p>\n<figure>\n  \n  <a class=\"gatsby-resp-image-link\" href=\"/static/99baaa649b491682e42a3cdbc4a96664/d335e/hex-input.jpg\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n  \n  <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block;  max-width: 800px; margin-left: auto; margin-right: auto;\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 90.76923076923077%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAASABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIEBf/EABQBAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhADEAAAAeLUaDICQAf/xAAZEAACAwEAAAAAAAAAAAAAAAABMQACEBH/2gAIAQEAAQUCC4IWELVhe//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8BH//EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQIBAT8BH//EABgQAAIDAAAAAAAAAAAAAAAAAAAQIDLh/9oACAEBAAY/AjHWP//EABwQAAEDBQAAAAAAAAAAAAAAAAEAEBEgIWFxsf/aAAgBAQABPyEQbuLK6ocEd03/2gAMAwEAAgADAAAAECgAAP/EABQRAQAAAAAAAAAAAAAAAAAAACD/2gAIAQMBAT8QH//EABURAQEAAAAAAAAAAAAAAAAAAAEg/9oACAECAQE/ECP/xAAcEAEAAgIDAQAAAAAAAAAAAAABABEQITFBcbH/2gAIAQEAAT8QONBPVx6gsVNAPCIBfyCKSFacznxeP//Z&apos;); background-size: cover; display: block;\">\n      <img class=\"gatsby-resp-image-image\" style=\"width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;\" alt=\"hex-input-source\" title src=\"/static/99baaa649b491682e42a3cdbc4a96664/f67cc/hex-input.jpg\" srcset=\"/static/99baaa649b491682e42a3cdbc4a96664/9c38a/hex-input.jpg 200w,\n/static/99baaa649b491682e42a3cdbc4a96664/28275/hex-input.jpg 400w,\n/static/99baaa649b491682e42a3cdbc4a96664/f67cc/hex-input.jpg 800w,\n/static/99baaa649b491682e42a3cdbc4a96664/6e525/hex-input.jpg 1200w,\n/static/99baaa649b491682e42a3cdbc4a96664/d335e/hex-input.jpg 1560w\" sizes=\"(max-width: 800px) 100vw, 800px\">\n    </span>\n  </span>\n  \n  </a>\n    \n</figure>\n<p>Burada karşılaştığım sorun emojileri düzgün ekrana basabilmek için hex inputuna anlık geçip daha sonra diğer input yöntemine dönmekti.</p>\n<p>Bunun için yaptığım “hacky” çözüm EMOJI adında bir macro oluşturup bu EMOJI tuşuna basıldığı an, önce ctrl+alt+space ile hex iput switch’ine geçip daha sonra _EMOJI layer’ını aktif etmek, tuştan parmak kaldırıldığında da yeniden ctrl+alt+space ile bir sonraki input source’a geçmek oldu.</p>\n<div class=\"gatsby-highlight\" data-language=\"c\"><pre class=\"language-c\"><code class=\"language-c\"><span class=\"token keyword\">case</span> EMOJI<span class=\"token operator\">:</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>record<span class=\"token operator\">-></span>event<span class=\"token punctuation\">.</span>pressed<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">register_code</span><span class=\"token punctuation\">(</span>KC_LCTL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">register_code</span><span class=\"token punctuation\">(</span>KC_LALT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">register_code</span><span class=\"token punctuation\">(</span>KC_SPC<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">layer_on</span><span class=\"token punctuation\">(</span>_EMOJI<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">unregister_code</span><span class=\"token punctuation\">(</span>KC_LCTL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">unregister_code</span><span class=\"token punctuation\">(</span>KC_LALT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">unregister_code</span><span class=\"token punctuation\">(</span>KC_SPC<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span> <span class=\"token keyword\">else</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">register_code</span><span class=\"token punctuation\">(</span>KC_LCTL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">register_code</span><span class=\"token punctuation\">(</span>KC_LALT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">register_code</span><span class=\"token punctuation\">(</span>KC_SPC<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">layer_off</span><span class=\"token punctuation\">(</span>_EMOJI<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">unregister_code</span><span class=\"token punctuation\">(</span>KC_LCTL<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">unregister_code</span><span class=\"token punctuation\">(</span>KC_LALT<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">unregister_code</span><span class=\"token punctuation\">(</span>KC_SPC<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">break</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Böylece emoji layer’ını sorunsuz şekilde kullanmaya başladım. Yukarıda dediğim gibi bu benim “hacky” çözümüm, eğer daha verimli bir çözüm bulmuş ve kullanıyorsanız github’dan issue veya pr açabilirsiniz.</p>","timeToRead":3,"frontmatter":{"title":"Planck Keyboard'a Emoji Layer Eklemek","date":"March 13, 2021"},"fields":{"slug":"/planck-keyboarda-emoji-layer-eklemek/"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/planck-keyboarda-emoji-layer-eklemek/","previous":{"fields":{"slug":"/planck-keyboard/"},"frontmatter":{"title":"Planck Keyboard"}},"next":null}}}